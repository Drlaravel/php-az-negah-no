<div dir="rtl" style="font-family: 'Vazir', sans-serif; line-height: 1.8;">

---

### **فصل ششم: برنامه‌نویسی شیءگرا (OOP) در PHP**

---

### **6.1 مقدمه‌ای بر برنامه‌نویسی شیءگرا**

برنامه‌نویسی شیءگرا (Object-Oriented Programming یا OOP) یکی از قدرتمندترین و محبوب‌ترین پارادایم‌های برنامه‌نویسی است که به شما اجازه می‌دهد تا برنامه‌های خود را به شکلی ماژولار و قابل نگهداری‌تر بنویسید. در PHP، برنامه‌نویسی شیءگرا از نسخه 5 به بعد به طور کامل پشتیبانی می‌شود. این پارادایم بر اساس مفاهیمی مانند کلاس‌ها (Classes)، اشیاء (Objects)، وراثت (Inheritance)، پلی‌مورفیسم (Polymorphism)، و اینکپسولیشن (Encapsulation) طراحی شده است.

### **6.2 کلاس‌ها و اشیاء**

کلاس‌ها به‌عنوان قالبی برای ایجاد اشیاء تعریف می‌شوند. در واقع، یک کلاس به شما امکان می‌دهد تا یک ساختار داده‌ای با ویژگی‌ها و متدهای خاص ایجاد کنید. یک شیء نمونه‌ای از یک کلاس است. به عبارت دیگر، اشیاء نمونه‌هایی از کلاس‌ها هستند که با استفاده از آن‌ها می‌توان به متدها و ویژگی‌های تعریف‌شده در کلاس دسترسی پیدا کرد.

#### **6.2.1 تعریف کلاس‌ها**

یک کلاس با استفاده از کلمه کلیدی `class` تعریف می‌شود. به عنوان مثال، یک کلاس ساده به نام `Car` که شامل دو ویژگی (خاصیت) به نام‌های `color` و `model` است، به شکل زیر تعریف می‌شود:

```php
<?php
class Car {
    public $color; // تعریف ویژگی رنگ
    public $model; // تعریف ویژگی مدل

    // متد برای نمایش مشخصات خودرو
    public function displayInfo() {
        return "Car color: " . $this->color . ", Model: " . $this->model;
    }
}
?>
```

در این مثال، کلاسی به نام `Car` تعریف شده است که دو ویژگی عمومی (`public`) دارد. همچنین یک متد (`displayInfo`) برای نمایش اطلاعات خودرو تعریف شده است.

#### **6.2.2 ایجاد اشیاء**

برای ایجاد یک شیء از یک کلاس، از کلمه کلیدی `new` استفاده می‌شود. به عنوان مثال، می‌توان یک شیء جدید از کلاس `Car` ایجاد کرد و ویژگی‌های آن را مقداردهی کرد:

```php
<?php
$myCar = new Car(); // ایجاد یک شیء جدید از کلاس Car
$myCar->color = "Red"; // مقداردهی به ویژگی color
$myCar->model = "Toyota"; // مقداردهی به ویژگی model

echo $myCar->displayInfo(); // خروجی: Car color: Red, Model: Toyota
?>
```

در اینجا، یک شیء به نام `$myCar` از کلاس `Car` ایجاد شده است و ویژگی‌های `color` و `model` آن مقداردهی شده‌اند.

### **6.3 سازنده‌ها (Constructors) و مخرب‌ها (Destructors)**

در برنامه‌نویسی شیءگرا، سازنده‌ها (Constructors) و مخرب‌ها (Destructors) نقش مهمی در مدیریت اشیاء دارند.

#### **6.3.1 سازنده‌ها**

سازنده‌ها متدهای خاصی هستند که به طور خودکار هنگام ایجاد یک شیء فراخوانی می‌شوند. در PHP، سازنده‌ها با استفاده از متد `__construct()` تعریف می‌شوند. به عنوان مثال:

```php
<?php
class Car {
    public $color;
    public $model;

    // تعریف سازنده
    public function __construct($color, $model) {
        $this->color = $color; // مقداردهی ویژگی color
        $this->model = $model; // مقداردهی ویژگی model
    }

    public function displayInfo() {
        return "Car color: " . $this->color . ", Model: " . $this->model;
    }
}

$myCar = new Car("Blue", "Honda"); // ایجاد شیء جدید با استفاده از سازنده
echo $myCar->displayInfo(); // خروجی: Car color: Blue, Model: Honda
?>
```

در این مثال، کلاس `Car` یک سازنده دارد که هنگام ایجاد یک شیء جدید، ویژگی‌های `color` و `model` را مقداردهی می‌کند.

#### **6.3.2 مخرب‌ها**

مخرب‌ها متدهایی هستند که هنگام حذف یک شیء از حافظه فراخوانی می‌شوند. در PHP، مخرب‌ها با استفاده از متد `__destruct()` تعریف می‌شوند. به عنوان مثال:

```php
<?php
class Car {
    public $color;
    public $model;

    public function __construct($color, $model) {
        $this->color = $color;
        $this->model = $model;
    }

    // تعریف مخرب
    public function __destruct() {
        echo "The car object is being destroyed.";
    }
}

$myCar = new Car("Blue", "Honda");
?>
```

در این مثال، مخرب هنگام حذف شیء از حافظه پیامی را نمایش می‌دهد.

### **6.4 دسترسی به اعضای کلاس (Access Modifiers)**

در PHP، سه نوع سطح دسترسی برای اعضای کلاس وجود دارد که به شما امکان می‌دهد سطح دسترسی به ویژگی‌ها و متدهای یک کلاس را کنترل کنید:

1. **`public`**: اعضای `public` برای همه (داخل و خارج از کلاس) قابل دسترسی هستند.
2. **`protected`**: اعضای `protected` تنها از داخل کلاس و زیرکلاس‌ها (کلاس‌های مشتق) قابل دسترسی هستند.
3. **`private`**: اعضای `private` تنها از داخل کلاس قابل دسترسی هستند و در زیرکلاس‌ها قابل دسترسی نیستند.

به عنوان مثال:

```php
<?php
class Car {
    public $color; // قابل دسترسی برای همه
    protected $model; // فقط قابل دسترسی برای کلاس و زیرکلاس‌ها
    private $year; // فقط قابل دسترسی برای کلاس

    public function setYear($year) {
        $this->year = $year; // تنظیم سال
    }

    public function getYear() {
        return $this->year; // دریافت سال
    }
}
?>
```

### **6.5 وراثت (Inheritance)**

وراثت یکی از اصول مهم در برنامه‌نویسی شیءگرا است که به شما امکان می‌دهد کلاس‌های جدیدی بر اساس کلاس‌های موجود ایجاد کنید. این کار باعث کاهش کد تکراری و افزایش قابلیت استفاده مجدد از کد می‌شود.

به عنوان مثال:

```php
<?php
class Vehicle {
    public $brand;

    public function setBrand($brand) {
        $this->brand = $brand; // تنظیم برند
    }

    public function getBrand() {
        return $this->brand; // دریافت برند
    }
}

// تعریف کلاس Car که از Vehicle ارث می‌برد
class Car extends Vehicle {
    public $color;

    public function setColor($color) {
        $this->color = $color; // تنظیم رنگ
    }

    public function displayInfo() {
        return "Brand: " . $this->getBrand() . ", Color: " . $this->color; // نمایش اطلاعات
    }
}

$myCar = new Car();
$myCar->setBrand("Toyota");
$myCar->setColor("Red");
echo $myCar->displayInfo(); // خروجی: Brand: Toyota, Color: Red
?>
```

در این مثال، کلاس `Car` از کلاس `Vehicle` ارث‌بری می‌کند و به ویژگی‌ها و متدهای آن دسترسی دارد.

### **6.6 چندریختی (Polymorphism)**

چندریختی یکی از اصول مهم OOP است که به شما امکان می‌دهد متدهایی با نام مشابه در کلاس‌های مختلف ایجاد کنید که به طور متفاوتی عمل می‌کنند. این ویژگی به شما امکان می‌دهد تا با استفاده از یک رابط یکتا با اشیاء مختلف کار کنید.

### **6.7 کپسوله‌سازی (Encapsulation)**

کپسوله‌سازی یکی از اصول برنامه‌نویسی شیءگراست که در آن داده‌ها و متدهای مرتبط در یک کلاس قرار داده می‌شوند. این کار به شما امکان می‌دهد تا دسترسی به داده‌ها را کنترل کرده و آن‌ها را از دسترسی‌های غیرمجاز محافظت کنید.

### **6.8 تمرین‌های فصل ششم**

1. **ایجاد کلاس و شیء:** یک کلاس به نام `Book` ایجاد کنید که شامل ویژگی‌هایی مانند `title` و `author` باشد. متدهایی برای تنظیم و دریافت این ویژگی‌ها بنویسید.
2. **استفاده از سازنده:** سازنده‌ای برای کلاس `Book` تعریف کنید که عنوان و نویسنده کتاب را هنگام ایجاد شیء تنظیم کند.
3. **وراثت و پلی‌مورفیسم:** دو کلاس `Car` و `Motorcycle` ایجاد کنید که هر دو از یک کلاس `Vehicle` ارث‌بری کنند. متدهایی با نام مشابه در

 هر کلاس تعریف کنید که به شکل متفاوتی عمل کنند.
4. **کنترل دسترسی:** در کلاس `Book`، ویژگی `price` را `private` تعریف کنید و متدهایی برای تنظیم و دریافت قیمت کتاب بنویسید.

---

### **خلاصه فصل ششم**

در این فصل، با مفاهیم اصلی برنامه‌نویسی شیءگرا در PHP آشنا شدید. کلاس‌ها، اشیاء، سازنده‌ها و مخرب‌ها، سطح دسترسی، وراثت، چندریختی و کپسوله‌سازی به تفصیل توضیح داده شدند. این اصول به شما کمک می‌کنند تا کدهای خود را به شکلی بهینه‌تر و قابل نگهداری‌تر بنویسید. استفاده از OOP می‌تواند به طور قابل‌توجهی کارایی و قابلیت نگهداری برنامه‌های PHP شما را بهبود بخشد.

---

</div>